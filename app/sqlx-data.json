{
  "db": "PostgreSQL",
  "0361e3c98c4e9df75b2e4509d5a05a3c489079279f16c34807654a8a8ff426ac": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    organisation_users (user_id, organisation_id)\n                VALUES($1, $2) \n            "
  },
  "0551d54703bb4c1d59971c16032446e3c72eaed370d3f5063a15e53f27e022f6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    service_accounts\n                WHERE\n                    id = $1\n                AND\n                    user_id = $2\n            "
  },
  "0a80c78bad6f8abd7740957436628f0ffb20058dbbbcdc91ca0fabc671d980c7": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "ecdsa_public_key",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "\n                SELECT \n                    id, email, ecdsa_public_key\n                FROM \n                    users\n                WHERE\n                    email = $1\n            "
  },
  "1038977df2e72b86e3441f072a91dfd1ac410c07396adece9a406ef4880d7aea": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    id, name, updated_at, created_at\n                FROM \n                    vaults\n                WHERE\n                    id = $1 \n            "
  },
  "1e63efc722b8bc252bf8f6e84f90a06cd081e64d3d62e92aeab71b5d82020c29": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "service_account_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "name_blind_index",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "secret",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "ecdh_public_key",
          "ordinal": 5,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT  \n                    id, service_account_id, name, name_blind_index, secret, ecdh_public_key \n                FROM \n                    service_account_secrets \n                WHERE \n                    service_account_id = $1\n            "
  },
  "28fb19e928ef43f6670ea3734f0334ac8ee0f38237f14d3cf267c005a9080483": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Bool"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    organisation_users (user_id, organisation_id, is_admin)\n                VALUES($1, $2, $3) \n            "
  },
  "3a754ffd5e9f9198cbb0b998c0391acae848d7c8b6bdc04de7647dbbff62b748": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "invitation_selector",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "invitation_verifier_hash",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "organisation_id",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "updated_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT  \n                    id, \n                    email,\n                    invitation_selector, \n                    invitation_verifier_hash,\n                    organisation_id,\n                    updated_at, \n                    created_at  \n                FROM \n                    invitations \n                WHERE organisation_id = $1\n            "
  },
  "3abd1183db3dc8d53c44daedacfcd721e440c0212f1dedf6e3f9dbe4dcc0cf2c": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    id, name\n                FROM \n                    organisations\n                WHERE\n                    created_by_user_id = $1\n            "
  },
  "3e89cf517521941ce808e3c5c8b23e0cecff94ef0e0ef18d34cd9ee9fef133d0": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "vault_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "vault_name?",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "ecdh_public_key",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "encrypted_ecdh_private_key",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 7,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    sa.id, sa.vault_id, sa.name, v.name as \"vault_name?\", \n                    sa.ecdh_public_key, sa.encrypted_ecdh_private_key,\n                    sa.updated_at, sa.created_at \n                FROM \n                    service_accounts sa\n                LEFT JOIN\n                    vaults v\n                ON \n                    v.id = sa.vault_id\n                WHERE \n                    sa.user_id = $1\n            "
  },
  "41f71e186331d49ab071ce14e8926eabef6fe8ab98ba5bd132a23d4f550dbee9": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "vault_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "name_blind_index",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "secret",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT  \n                    id, vault_id, name, name_blind_index, secret,\n                    updated_at, created_at  \n                FROM secrets WHERE id = $1\n                AND\n                    vault_id \n                IN\n                    (SELECT vault_id \n                    FROM\n                        users_vaults\n                    WHERE\n                        user_id = $2)\n            "
  },
  "4459f22d444b21d39c788c809ed9e1743a509d0153397a223b29eedd8a8078ae": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    organisations (created_by_user_id)\n                VALUES($1) \n                RETURNING ID\n            "
  },
  "4b63eb4c14bad9eb7afb2bf11df3cea0c2e608e8af42818d3d6c53c8376e5fda": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "vault_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "vault_name?",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "ecdh_public_key",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "encrypted_ecdh_private_key",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 7,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT\n                    sa.id, sa.vault_id, sa.name, v.name as \"vault_name?\", \n                    sa.ecdh_public_key, sa.encrypted_ecdh_private_key,\n                    sa.updated_at, sa.created_at \n                FROM \n                    service_accounts sa\n                LEFT OUTER JOIN\n                    vaults v\n                ON \n                    v.id = sa.vault_id\n                WHERE\n                    sa.id = $1\n            "
  },
  "501c0982f15de089660d57ab81810b5b916e4cec215ebc1dfdb3677812065a41": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    organisation_users\n                WHERE\n                    user_id = $1\n                AND\n                    organisation_id = $2 \n                and $3 IN\n                -- Make sure the current user is an admin for this team\n                    (SELECT \n                        user_id \n                    FROM \n                        organisation_users \n                    WHERE\n                        is_admin = true\n                    AND\n                    organisation_id = $2\n                    )\n            "
  },
  "50229fa3a73f2f8c3e9b13a7ff99fb07618035c151b1195f257808b55863eb96": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    id, name, updated_at, created_at\n                FROM \n                    vaults\n                WHERE\n                    id = $1 \n                AND\n                    $1 \n                IN\n                    (SELECT vault_id \n                    FROM\n                        users_vaults\n                    WHERE\n                        user_id = $2)\n            "
  },
  "5ffda78450e08e682fa1fefb99b1288ad008adf7ad89e9f93107f453583370e0": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "vault_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "vault_name?",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "ecdh_public_key",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "encrypted_ecdh_private_key",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 7,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    sa.id, sa.vault_id, sa.name, v.name as \"vault_name?\", \n                    sa.ecdh_public_key, sa.encrypted_ecdh_private_key,\n                    sa.updated_at, sa.created_at \n                FROM \n                    service_accounts sa\n                LEFT OUTER JOIN\n                    vaults v\n                ON \n                    v.id = sa.vault_id\n                WHERE \n                    sa.vault_id = $1\n                -- Make sure the user actually as access to this vault\n                AND\n                    $2 IN\n                        (SELECT user_id \n                        FROM\n                            users_vaults\n                        WHERE\n                            vault_id = $1)\n            "
  },
  "6ad26110155360c18d3b2823b5baada6520cec5e5e21f1b9eeedde06eff312f5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    secrets\n                WHERE\n                    id = $1\n                AND\n                    vault_id \n                IN\n                    (SELECT vault_id \n                    FROM\n                        users_vaults\n                    WHERE\n                        user_id = $2)\n            "
  },
  "71523c11e319e9c30f7772c1abbeaa2c67dccdaec8474f724ed477775eeb0aa5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int4"
        ]
      }
    },
    "query": "\n                        DELETE FROM\n                            invitations\n                        WHERE\n                            email = $1\n                        AND\n                            organisation_id = $2\n                    "
  },
  "745e922297bce7c6aa5e992adbaf91e26ed6bea5597b4337b15a5d697cd24f64": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "organisation_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "email",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "ecdh_public_key",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "is_admin",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    u.id, ou.organisation_id, u.email, u.ecdh_public_key, ou.is_admin\n                FROM \n                    organisation_users ou\n                LEFT JOIN users u ON u.id = ou.user_id\n                WHERE\n                    ou.organisation_id = $2\n                AND\n                    -- Make sure the user has access to this org\n                    $1 IN (SELECT user_id FROM organisation_users WHERE organisation_id = $2)\n            "
  },
  "7f8e089cc88bd909a5929189aa16359fff56a56121482b51912677645d615cd2": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "vault_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "vault_name?",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "ecdh_public_key",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "encrypted_ecdh_private_key",
          "ordinal": 5,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 7,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "\n                SELECT \n                    sa.id, sa.vault_id, sa.name, v.name as \"vault_name?\", \n                    sa.ecdh_public_key, sa.encrypted_ecdh_private_key,\n                    sa.updated_at, sa.created_at \n                FROM \n                    service_accounts sa\n                LEFT OUTER JOIN\n                    vaults v\n                ON \n                    v.id = sa.vault_id\n                WHERE sa.ecdh_public_key = $1\n            "
  },
  "89e169303b205493fa13735c9ada08e6c280e18f868ab67f9413c8fbfebeb88a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Varchar",
          "Varchar",
          "Varchar",
          "Varchar"
        ]
      }
    },
    "query": "\n                        INSERT INTO service_account_secrets\n                            (service_account_id, name, name_blind_index, secret, ecdh_public_key)\n                        VALUES\n                            ($1, $2, $3, $4, $5)\n                    "
  },
  "8b48cc37ee077f93b80e4029833d1a75c73ec2c09aa5438afcf357d4ae42cb56": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                UPDATE\n                    service_accounts\n                SET\n                    vault_id = NULL\n                WHERE\n                    vault_id = $1\n                AND\n                    $2 IN (SELECT user_id FROM users_vaults WHERE vault_id = $1)\n            "
  },
  "9f7946b9ed16045a4e17e362b133f75f4a2e22d574804edfce969f8dc9dc4b31": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 2,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    v.id, v.name, v.updated_at, v.created_at\n                FROM \n                    vaults v\n                LEFT JOIN users_vaults uv ON uv.vault_id = v.id\n                WHERE\n                    uv.user_id = $1\n            "
  },
  "a05abde183676aad1dfa11b1e2566e982d5a7e3ca4aaf27b35af7f1ece603f64": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    users_vaults\n                WHERE\n                    vault_id = $1\n                AND\n                    user_id =$2\n                AND vault_id IN (SELECT vault_id FROM users_vaults WHERE user_id = $3)\n            "
  },
  "b483363b73d28ef667260b1c58ff662f0e2fa2f3192425eac788b89511859d7a": {
    "describe": {
      "columns": [
        {
          "name": "count",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                    SELECT count(*) FROM secrets WHERE vault_id = $1\n                "
  },
  "b70d18259a078f561a93d9bb78fe87f6acb35d07bf8597b0724b007c162cdb88": {
    "describe": {
      "columns": [
        {
          "name": "vault_id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "user_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "email",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    uv.vault_id, uv.user_id, u.email  \n                FROM users_vaults uv\n                LEFT JOIN users u ON u.id = uv.user_id\n                WHERE \n                    uv.vault_id = $1\n            "
  },
  "b76f494175bd289f0c15b0f7aec7894316bb15f4b3c157fa4c61bdf4fdf5137b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                UPDATE service_accounts \n                SET \n                    vault_id = $1\n                WHERE \n                    id = $2\n                AND \n                    -- Make sure the user has access to the vault\n                    $1 IN (SELECT vault_id from users_vaults WHERE user_id = $3)\n                AND user_id = $3\n            "
  },
  "b8a304923a56486915d0d5b5e2bcb5c9d03ffb1bbf667f57b9d1890826ff9920": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    service_account_secrets\n                WHERE\n                    service_account_id = $1\n            "
  },
  "b99d3d66420c8e2562e5235f8025aaad5b9ab8b5222952cfca7f557858eda438": {
    "describe": {
      "columns": [
        {
          "name": "count",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                    SELECT count(*) FROM users_vaults WHERE vault_id = $1\n                "
  },
  "cd30f367f14ac85e0ae596d9e2a761ee7121851e9be388f84b608006122552b4": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Varchar",
          "Varchar",
          "Varchar"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    service_accounts (user_id, name, ecdh_public_key, encrypted_ecdh_private_key)\n                VALUES($1, $2, $3, $4) \n            "
  },
  "cfba69e1a75fd79b52e4383cac494fe54ea45fce5bf1c6a59116c2381357be97": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    secrets\n                WHERE\n                    vault_id = $1\n                AND\n                    $2 IN (SELECT user_id FROM users_vaults WHERE vault_id = $1)\n            "
  },
  "d0c050fdec46f4371d74e335a3af94ad98c2930b7428c82a41e3043f0a846c6d": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Varchar",
          "Varchar",
          "Varchar"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    invitations (organisation_id, email, invitation_selector, invitation_verifier_hash)\n                VALUES($1, $2, $3, $4) \n            "
  },
  "d6a0e87a47faa676a1c05be82ecf818f81254b863b55471c457743381ad88020": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    service_account_secrets\n                WHERE\n                    name_blind_index = $1\n                AND\n                    service_account_id\n                IN\n                    (SELECT id FROM service_accounts WHERE vault_id = $2)\n            "
  },
  "ea5198090561a5985d85e76569ac7c544f3390f62cf5a3ba30e049d77b54ee72": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                DELETE FROM\n                    vaults\n                WHERE\n                    id = $1\n                AND\n                    $2 IN (SELECT user_id FROM users_vaults WHERE vault_id = $1)\n            "
  },
  "ea8d2c5756e326b740a03f58b2fc61a23e59fc09271f9515f8d5b7ae64fceeaa": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Varchar"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    vaults (user_id, name)\n                VALUES($1, $2) \n                RETURNING id\n            "
  },
  "eddc62c05d2472cf737a984adae86783b8d7f8517e093a493c866a44c3a0f1fe": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "ecdsa_public_key",
          "ordinal": 2,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    id, email, ecdsa_public_key\n                FROM \n                    users\n                WHERE\n                    id = $1\n            "
  },
  "edeaa8334458a163886a33b6e9848602d5343f230d21764d22cbf9e2ff06d32f": {
    "describe": {
      "columns": [
        {
          "name": "vault_id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "user_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "encrypted_vault_key",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "ecdh_public_key",
          "ordinal": 3,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    vault_id, user_id, encrypted_vault_key, ecdh_public_key \n                FROM users_vaults \n                WHERE \n                    user_id = $1 AND vault_id = $2\n            "
  },
  "ee039a0254e6d19712a041fd0bf66f696ececf64c4f72085332120c9054b8717": {
    "describe": {
      "columns": [
        {
          "name": "organisation_name",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "team_owner",
          "ordinal": 1,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        true,
        false
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT \n                    o.name as organisation_name, \n                    u.email as team_owner\n                FROM \n                    organisation_users ou\n                LEFT JOIN organisations o ON o.id = ou.organisation_id\n                LEFT JOIN users u ON u.id = o.created_by_user_id\n                WHERE\n                    ou.user_id = $1\n            "
  },
  "f39b6a837c7bb642d49cd1712fa87ea9954717531100c7bafee9b20a2b6be97a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Varchar",
          "Varchar"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    users_vaults (user_id, vault_id, ecdh_public_key, encrypted_vault_key)\n                VALUES($1, $2, $3, $4) \n            "
  },
  "f6386190cc840c36bcc0cecedafb073ba466e4a3466c14cfa9854cb65a8527b1": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Varchar",
          "Varchar",
          "Varchar"
        ]
      }
    },
    "query": "\n                INSERT INTO \n                    secrets (vault_id, name, name_blind_index, secret)\n                VALUES($1, $2, $3, $4) \n            "
  },
  "f987a770765708a1801029ee2d5f5e628a32f1da5372f8d94b840edcac81a98a": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                        SELECT user_id \n                        FROM \n                            users_vaults \n                        WHERE \n                            user_id = $1\n                        AND\n                            vault_id = $2\n                    "
  },
  "faf06c76306e53f7be9f8a72f2ba768a9122a5445b5429ef3df8d70ca515a3a2": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "vault_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "name",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "name_blind_index",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "secret",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "updated_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "created_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "\n                SELECT  \n                    id, vault_id, name, name_blind_index, secret,\n                    updated_at, created_at  \n                FROM secrets WHERE vault_id = $1\n                AND\n                    vault_id \n                IN\n                    (SELECT vault_id \n                    FROM\n                        users_vaults\n                    WHERE\n                        user_id = $2)\n            "
  },
  "fdb47dac7df5d7cb25b0b07570b85bf7ecdae3a9f4a2bacb3bf5eaaf2c06a057": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "organisation_id",
          "ordinal": 1,
          "type_info": "Int4"
        },
        {
          "name": "email",
          "ordinal": 2,
          "type_info": "Varchar"
        },
        {
          "name": "invitation_selector",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "invitation_verifier_hash",
          "ordinal": 4,
          "type_info": "Varchar"
        },
        {
          "name": "created_at",
          "ordinal": 5,
          "type_info": "Timestamptz"
        },
        {
          "name": "updated_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "\n                SELECT \n                    id, \n                    organisation_id, \n                    email, \n                    invitation_selector, \n                    invitation_verifier_hash,\n                    created_at,\n                    updated_at\n                FROM \n                    invitations \n                WHERE\n                    invitation_selector = $1\n            "
  }
}